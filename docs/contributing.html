<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Sven Co-op</title>
  <link rel="stylesheet" href="styles.css">
  <script src="scripts.js"></script>
</head>
<body>

<div id="content">

  <h1>Setup</h1>
  <div class="code-block">
    <button onclick="ClipboardCopy( 'git-clone' )" title="Copy">ðŸ“‹</button>
      <code id="git-clone">
git clone https://github.com/Mikk155/Sven-Co-op.git
      </code>
  </div>

  <h1>Metamod</h1>
  <p>If you want to contribute to the metamod plugin aslp you'll need additional dependancies</p>
  <p>Enter the repository directory and install the dependancies</p>
  <div class="code-block">
    <button onclick="ClipboardCopy( 'metamod-submodules' )" title="Copy">ðŸ“‹</button>
      <code id="metamod-submodules">
git submodule update --init --remote external/fmt
<br>
git submodule update --init --remote external/json
<br>
git submodule update --init --remote external/metamod
      </code>
  </div>
  <p>Generate the project solution from CMakeLists.</p>
  <p>You can either configure yourself by command line or using CMakeGui</p>
  <p>Command line:</p>
  <div class="code-block">
    <button onclick="ClipboardCopy( 'metamod-build' )" title="Copy">ðŸ“‹</button>
      <code id="metamod-build">
mkdir build\aslp
<br>
cmake -S src/aslp -B build/aslp -G "Visual Studio 17 2022" -A Win32 -DCMAKE_INSTALL_PREFIX="C:/Program Files (x86)/Steam/steamapps/common/Sven Co-op"
      </code>
  </div>
  <p>CMakeGui setup:</p>
  <p>Set the path to where the project is located and where to build the binaries.</p>
  <p>Due to how aslp include files, it is not recommended to build the binaries in the same folder or sub-folders.</p>
  <img src="assets/images/aslp/directory.png">
  <p>Press the "Configure" button and select your project generator</p>
  <img src="assets/images/aslp/generator.png">
  <p>Select your platform and press finish (Note: Sven coop requires 32-bits build)</p>
  <img src="assets/images/aslp/platform.png">
  <p>You can now set the path to your "Sven Co-op" installation and modify some launch parameters for when debuging</p>
  <img src="assets/images/aslp/generated.png">
  <p>Press the "Generate" button and wait until is done, you can press then the "Open Project" to launch your IDE</p>
  <img src="assets/images/aslp/project.png">
  <p>Select the "aslp" project. right click and mark as "Startup project" so when you press F5 to debug it runs the game.</p>
  <p>You may know be able to compile aslp and asext but to actually compile metamod you gonna need to go to the folder "external/metamod/scripts/" and run some dependancy scripts.</p>
  <p>For instance you need the "build-capstone" Ideally both release and debug if you plan on building for both.</p>
  <p>Go to the "svencoop/liblist.gam" file and modify the "gamedll" variable to load metamod</p>
  <div class="code-block">
    <button onclick="ClipboardCopy( 'metamod-test' )" title="Copy">ðŸ“‹</button>
      <code id="metamod-test">
gamedll "addons/metamod/dlls/metamod.dll"
      </code>
  </div>
  <p>If you were running metamod previously go to "svencoop/addons/metamod/plugins.ini" and add the aslp entry. This is not necesary if the file didn't exists the project will generate it.</p>
  <div class="code-block">
    <button onclick="ClipboardCopy( 'metamod-plugins' )" title="Copy">ðŸ“‹</button>
      <code id="metamod-plugins">
win32 addons/metamod/dlls/aslp.dll
<br>
linux addons/metamod/dlls/aslp.so
      </code>
  </div>

  <h1>C# tools</h1>
  <p>Any C# program will most likely require the MikkNET submodule (Lack of imagination for a proper name lol)</p>
  <div class="code-block">
    <button onclick="ClipboardCopy( 'NET-submodules' )" title="Copy">ðŸ“‹</button>
      <code id="NET-submodules">
git submodule update --init --remote external/MikkNET
      </code>
  </div>

  <h1>AngelScript</h1>
  <p>I wrote the code-runner C# program for myself but you're free to compile and use it</p>
  <div class="code-block">
    <button onclick="ClipboardCopy( 'code-runner' )" title="Copy">ðŸ“‹</button>
      <code id="code-runner">
cd src
<br>
cd code-runner
<br>
dotnet build code-runner.sln
      </code>
  </div>
  <p>Install the extension "Code Runner" linked bellow and it should install required assets into Sven Co-op

  <h1><img src="assets/images/vscode.png" width="25"> Visual Studio Code recomended extensions</h1>
  <div class="table-wrap">
    <table class="markdown" id="pages">
      <thead>
        <tr>
          <th>Name</th>
          <th>Download</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Code Runner</td>
          <td><a href="https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner" target="_blank">Code Runner</a></td>
          <td>Use to have a way to "Run" angelscript code.<br>It will just copy over any required asset from a plugin/script to your sven coop installation.</td>
        </tr>
        <tr>
          <td>Angelscript language server</td>
          <td><a href="https://marketplace.visualstudio.com/items?itemName=sashi0034.angel-lsp" target="_blank">Angelscript Language Server</a></td>
          <td>AngelScript language server (Wip, please report issues on <a href="https://github.com/sashi0034/angel-lsp/issues" target="_blank">Github</a>)</td>
        </tr>
      </tbody>
    </table>
  </div>

</div>

</body>
</html>
